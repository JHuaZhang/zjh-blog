---
title: 文件权限操作相关命令
order: 5
nav:
  title: Linux
  order: 2
---

在Linux中，文件权限管理是系统安全的核心功能之一。以下是常用的文件权限相关命令及其用法：

## 1、查看文件权限
可以使用ls -l命令查看文件的权限，显示文件的详细信息，包括权限、所有者、组、大小等。

```bash
ls -l filename          # 查看单个文件权限
ls -ld directory_name  # 查看目录本身的权限
ls -la                 # 查看所有文件（包括隐藏文件）
```

举例：

```bash
[root@xxx wwwroot]# ls -l
total 195392
-rw-r--r--  1 root root        27 Apr 28 18:26 1.txt
-rw-r--r--  1 root root        19 Apr 28 18:26 2.txt
-rw-r--r--  1 root root       275 Apr 30 10:10 3.txt
drwxr-xr-x  4 www  www       4096 Apr 28 13:29 express
-rwxr-xr-x  1 root root       210 Apr 28 18:24 index.html
-rw-r--r--  1 root root         0 Apr 23 18:14 init.lock
drwxr-xr-x  2 www  www       4096 May  5 14:59 log
drwxr-xr-x  4 root root      4096 Apr 24 18:22 project
drwxr-xr-x  5 root root      4096 May  6 15:58 renren-fast
drwxr-xr-x 11 www  www       4096 Apr 23 18:40 yapi
-rwxr-xr-x  1 root root 200040637 Apr 23 18:04 yapi-install.zip
```

## 2、文件权限规则
在Linux中，文件或目录的权限通过一串符号表示，例如-rw-r--r--。这些符号分为文件类型和权限细节两部分，具体含义如下：

### 2.1、文件类型符号（第1个字符）
第一个字符表示文件类型：

| 符号 | 类型 | 示例 |
| --- | --- | --- |
| - | 普通文件 | 文本、图片、二进制 |
| d | 目录 | 文件夹 |
| l | 符号链接（快捷方式） | 指向其他文件的链接 |
| c | 字符设备文件 | 终端、串口设备 |
| b | 块设备文件 | 硬盘、U盘 |
| s | 套接字文件 | 进程间通信文件 |
| p | 管道文件 | 进程间数据传输 |


举例：

```bash
-rw-r--r--：普通文件
drwxr-xr-x：目录
```

### 2.2、权限符号（后9个字符）
后9个字符分为3组，每组3个字符，依次表示以下权限：

+ 所有者（Owner）权限（第2-4位）。
+ 所属组（Group）权限（第5-7位）。
+ 其他用户（Others）权限（第8-10位）。

每组权限由 r（读）、w（写）、x（执行）三个符号组成，用-表示无权限。

| 符号 | 权限 | 对文件的作用 | 对目录的作用 |
| --- | --- | --- | --- |
| r | 读 | 可查看文件内容 | 可列出目录中的文件（如 ls） |
| w | 写 | 可修改文件内容 | 可在目录中增删文件（需配合 x） |
| x | 执行 | 可运行（如脚本、二进制程序） | 可进入目录（如 cd） |


### 2.3、举例
如：drwxr-xr-x

```bash
d rwx r-x r-x
↑ ↑    ↑    ↑
1 2-4  5-7  8-10
```

**①、文件类型（第1位）**

+ d：表示这是一个目录（directory），而非普通文件或其他类型。

**②、所有者权限（第2-4位）：rwx**

+ r（读）：允许列出目录中的内容（如 ls）。
+ w（写）：允许在目录中创建、删除或重命名文件/子目录（需同时拥有 x 权限）。
+ x（执行）：允许进入该目录（如 cd）或访问目录内的文件元数据（如文件属性）。

**③、所属组权限（第5-7位）：r-x**

+ r（读）：允许列出目录内容。
+ x（执行）：允许进入目录。
+ -（无写权限）：不能在目录中创建或删除文件。

**④、其他用户权限（第8-10位）：r-x**

与所属组权限相同：

+ r：可读，x：可进入目录。
+ -：无写权限。

### 2.4、特殊权限符号
除了基本权限，还可能见到以下特殊符号：

| 符号 | 名称 | 作用 | 示例 |
| --- | --- | --- | --- |
| s | SetUID | 以文件所有者身份执行（如passwd） | -rwsr-xr-x |
| s | SetGID | 以文件所属组身份执行（或目录继承组） | drwxr-sr-x |
| t | 粘滞位 | 仅允许所有者删除目录内文件（如/tmp） | drwxrwxrwt |


### 2.5、符号与数字权限的对应
权限可通过数字表示（八进制）：

+ r = 4，w = 2，x = 1，- = 0，每组权限是这三个值的和。

举例：

rwxr-xr-- → 所有者=7（4+2+1），组=5（4+0+1），其他人=4（4+0+0） → 数字权限 754。


